<!--
  File: src/views/pos.html
  Description: Added a note icon placeholder for each invoice item.
-->
<div class="pos-layout">
    <!-- قسم عرض المنتجات -->
     <div class="products-section-container">
    <div class="content-header">
        <div class="search-and-quantity-controls"> <!-- div جديد لتجميع العناصر -->
            <input type="text" id="search-bar" placeholder="بحث عن منتج بالاسم أو الباركود...">
            <!-- تم حذف مربع الكمية العلوي هنا -->
        </div>
    </div>
    <div id="product-grid" class="product-grid">
        <!-- Product cards will be loaded here -->
    </div>
</div>

    <!-- قسم الفاتورة -->
    <aside class="invoice-section-container">
        <div class="invoice-header">
            <div id="order-type-selector" class="order-type-selector">
                <button class="btn active" data-type="dine-in">صالة</button>
                <button class="btn" data-type="delivery">توصيل</button>
            </div>
            <div id="customer-section" style="position: relative;">
        <div id="dine-in-customer-form" class="customer-details-form" style="display: block;">
            <div class="form-group">
                <label for="dine-in-customer-name">اسم العميل (اختياري)</label>
                <input type="text" id="dine-in-customer-name">
            </div>
            <div class="form-group">
                <label for="dine-in-customer-phone">رقم هاتف العميل (اختياري)</label>
                <input type="tel" id="dine-in-customer-phone">
            </div>
        </div>
        <div id="delivery-customer-form" class="customer-details-form" style="display: none;">
            <div class="form-group">
                <label for="customer-phone">رقم هاتف العميل</label>
                <input type="tel" id="customer-phone" required>
                </div>
            <div class="form-group">
                <label for="customer-name">اسم العميل</label>
                <input type="text" id="customer-name" required>
            </div>
            <div id="address-selection-container" class="form-group">
                <label for="customer-address">العنوان</label>
                <input type="text" id="customer-address" required>
            </div>
        </div>
        <div id="customer-search-results"></div>
    </div>
        </div>
        <div id="invoice-items" class="invoice-items-list">
            <p class="empty-invoice">الفاتورة فارغة</p>
        </div>
        <footer class="invoice-footer">
            <div class="invoice-summary-grid">
                <span>المجموع الفرعي</span><span id="sub-total">0.00</span>
                <span>الضريبة</span><span id="vat-total">0.00</span>
                <span>خدمة</span><span id="service-total">0.00</span>
                <span id="delivery-label" style="display: none;">توصيل</span><span id="delivery-total" style="display: none;">0.00</span>
            </div>
            <div class="invoice-summary">
                <span>الإجمالي</span>
                <span class="total-price" id="grand-total">0.00</span>
            </div>
            <div class="action-buttons">
                <button id="cancel-order-btn" class="btn btn-danger">إلغاء</button>
                <button id="finalize-button" class="btn btn-primary" disabled>إتمام الدفع</button>
            </div>
            <div id="loyalty-points-section" class="customer-details-form" style="display: none;">
                <div class="form-group">
                    <label>نقاط الولاء المتاحة:</label>
                    <span id="customer-loyalty-points" class="loyalty-points-display">0 نقطة</span>
                </div>
                <div class="form-group">
                    <label for="apply-loyalty-discount">تطبيق خصم نقاط الولاء</label>
                    <input type="checkbox" id="apply-loyalty-discount" class="loyalty-checkbox">
                </div>
                <div class="form-group" id="loyalty-discount-display" style="display: none;">
                    <label>قيمة الخصم:</label>
                    <span id="loyalty-discount-value" class="loyalty-points-display">0.00</span>
                </div>
            </div>
        </footer>
    </aside>
</div>

<!-- Modal for adding notes -->
<div id="note-modal" class="modal">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>إضافة ملاحظة</h2>
        <textarea id="note-input" placeholder="اكتب ملاحظتك هنا..."></textarea>
        <button id="save-note-btn" class="btn btn-primary">حفظ الملاحظة</button>
    </div>
</div>
